# sudo crontab -e
# 1. Entry: Minute when the process will be started [0-60]
# 2. Entry: Hour when the process will be started [0-23]
# 3. Entry: Day of the month when the process will be started [1-28/29/30/31]
# 4. Entry: Month of the year when the process will be started [1-12]
# 5. Entry: Weekday when the process will be started [0-6] [0 is Sunday]
#
# all x min = */x

# Every 2 min
*/2 * * * * /home/ubuntu/application/SNCF_project/virtualenv/bin/python3 /home/ubuntu/application/SNCF_project/source/etl_tasks/extract_api_once_all_stations.py


# Every week on Monday at 5:30 AM
30 5 * * 1 /home/ubuntu/application/SNCF_project/virtualenv/bin/python3 /home/ubuntu/application/SNCF_project/source/etl_tasks/weekly_gtfs_update.py


#### TROUBLESHOOTING
# if pymongo not updated
/home/ubuntu/application/SNCF_project/virtualenv/bin/python3 -m pip install "pymongo>=3.4,<4"

/home/ubuntu/application/SNCF_project/virtualenv/bin/celery -A etl_tasks.celery_app beat
